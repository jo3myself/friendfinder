<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<script
	src="https://code.jquery.com/jquery-3.2.1.min.js"
	integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
	<style>
		h4 {
			padding-top: 25px;
		}
	</style>
</head>
<body>
<div class="container">
	<h1>Survey Questions</h1>
	<hr>
	<h4>About You</h4>
	<h6>Name (Required)</h6>
	<input type="text" name="" id="name" class="form-control" required>
	<br>
    <h6>Link to Photo Image (Required)</h6>
    <input type="text" name="" id="photo" class="form-control" required>
    <hr>
<!-- questions start -->
    <h4>Question 1</h4>
    <h6>Your mind is always buzzing with unexplored ideas and plans.</h6>
    <select class="selection" id="q1">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 2</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q2">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 3</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q3">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 4</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q4">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 5</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q5">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 6</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q6">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 7</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q7">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 8</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q8">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 9</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q9">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h4>Question 10</h4>
    <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
    <select class="selection" id="q10">
      <option value="" selected disabled="">Select an Option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>
<!-- end of all questions	 -->
	<br>
	<br>
	<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">SUBMIT</button>
	<hr>
<!-- modal start -->
  <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalLabel">Your Matching Friend</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <center><h5><p id="matchName"></p></h5></center>
          <center><img id="matchImg" src=""></center>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cloze" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
<!-- modal end   -->
	<footer>
		<a href="/api/friends">API Friends List</a> | <a href="https://github.com/jo3myself">GitHub Repo</a>
	</footer>
	<br>
<!-- </div> end of container -->

<script type="text/javascript">
// when the id submit execute
  $("#submit").on("click", function() {
    // flow of complete function
    function complete() {
      var full=true;
      $('.form-control').each(function() {
        if ($(this).val() === '')
          full = false;
      });
      $('.selection').each(function() {
        if ($(this).val() === null)
          full = false;
      })
      return full;
    } 
// end of complete function

// when function complete return true then begin
    if (complete() === true) {
    // add all the data in variable
    var userData = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
    }
// POST routes /api/friends to handle the userData logic
    $.post("/api/friends", userData)
    // after done put the result in data
    .done(function(data) {
      $("#matchName").text(data.name);
      $('#matchImg').attr("src", data.photo);
      // run the modal
      $("#modal").modal();
    });
    } else {
      // when function complete return false do this
      alert("No Empty Field Please!");
    }
    return false;
  });
// when modal closed, go back to home
  $("#cloze").on("click", function() {
    window.location.replace("/");
  });  

</script> <!-- end of script -->

</body>
</html>